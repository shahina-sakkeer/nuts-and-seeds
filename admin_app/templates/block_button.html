
<!-- ACTION BUTTON -->
<div id="action-button-{{ user.id }}">
    <button type="button" 
            hx-on="click: document.getElementById('modal-{{ user.id }}').classList.remove('hidden')"
            class="px-3 py-1.5 rounded-md text-white 
                   {% if user.is_blocked %}bg-green-500 hover:bg-green-600{% else %}bg-red-500 hover:bg-red-600{% endif %}">
        {% if user.is_blocked %} Unblock {% else %} Block {% endif %}
    </button>
</div>

<!-- MODAL -->
<div id="modal-{{ user.id }}" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
    {% csrf_token %}
    <div class="bg-white rounded-lg p-6 shadow-lg w-80">
        <p class="mb-4 text-gray-800">
            Are you sure you want to 
            {% if user.is_blocked %}unblock{% else %}block{% endif %} {{ user.email }}?
        </p>
        <div class="flex justify-end space-x-2">
            <button 
                hx-post="{% url 'blockCustomer' user.id %}" 
                hx-include="[name='csrfmiddlewaretoken']"
                hx-swap="none"
                hx-on::after-request="document.getElementById('modal-{{ user.id }}').classList.add('hidden')"
                class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md">
                Yes
            </button>
            <button 
                hx-on="click: document.getElementById('modal-{{ user.id }}').classList.add('hidden')"
                class="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded-md">
                Cancel
            </button>
        </div>
    </div>
</div>