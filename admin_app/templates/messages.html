{% if messages %}

<style>
.snackbar {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 14px 22px;
    border-radius: 8px;
    opacity: 0;
    animation: fadeInOut 3s;
    z-index: 9999;
}

@keyframes fadeInOut {
    0% { opacity: 0; transform: translate(-50%, 20px); }
    10% { opacity: 1; transform: translate(-50%, 0); }
    90% { opacity: 1; }
    100% { opacity: 0; transform: translate(-50%, 20px); }
}
</style>

<script>
function showSnackbar(message, bg) {
    const bar = document.createElement("div");
    bar.className = "snackbar";
    bar.style.background = bg;
    bar.innerText = message;
    document.body.appendChild(bar);

    setTimeout(()=>bar.remove(), 3000);
}

{% for message in messages %}
    showSnackbar(
        "{{ message|escapejs }}",
        `{% if message.tags == "success" %}#22c55e
        {% elif message.tags == "error" %}#ef4444
        {% elif message.tags == "warning" %}#eab308
        {% else %}#3b82f6{% endif %}`
    );
{% endfor %}
</script>

{% endif %}