<!-- Main Container -->
<div class="bg-white rounded-lg shadow-sm p-6">

  <!-- Address List -->
  <div class="bg-white rounded-lg shadow-sm divide-y divide-gray-200">

    <div class="border border-gray-300 rounded-md p-4 flex items-center space-x-3 cursor-pointer hover:bg-gray-50 transition"
    hx-get="{% url 'addAddress' %}" hx-swap="innerHTML" hx-target="#user-right-content">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>

      <span class="text-blue-600 font-semibold uppercase tracking-wide text-sm">Add a New Address</span>
    </div>
    

    {% for address in addresses %}
    <div  id="address-row-{{ address.id }}">
    <!-- Address Card 1 -->
    <div class="p-6 hover:bg-gray-50 transition">
      <div class="flex items-start justify-between">
        <div class="flex-1">
          <div class="flex items-center space-x-4 mb-3">
            <h3 class="text-base font-semibold text-gray-900">{{user.firstname}}</h3>

          </div>
          <p class="text-sm text-gray-700 leading-relaxed font-semibold">
            {{address.house_name}}, {{address.landmark}}, <br>
            {{address.street}}<br>
            {{address.city}}, {{address.state}}<br>
              Pincode {{address.pincode}}
          </p>
        </div>

        <!-- Three Dots Menu -->
        <div class="ml-4 gap-5">
          <button hx-get="{% url 'editAddress' address.id %}" hx-swap="innerHTML" hx-target="#user-right-content"
            class="text-gray-400 hover:text-gray-600 focus:outline-none">
            <i class="fa-solid fa-file-pen"></i>
          </button>

          <!-- <div data-bs-toggle="modal" data-bs-target="#deleteModal{{ address.id }}">
            <i class="fa-solid fa-trash"></i>
          </div> -->

        </div>
      </div>
    </div>

    <div data-bs-toggle="modal" data-bs-target="#deleteModal{{ address.id }}">
    <button type="button">delete</button>
    </div>

    <!-- Modal for this address -->
    <div class="modal fade" id="deleteModal{{ address.id }}" tabindex="-1"
      aria-labelledby="deleteModalLabel{{ address.id }}" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-danger text-white">
            <h5 class="modal-title" id="deleteModalLabel{{ address.id }}">Confirm Delete</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            Are you sure you want to delete this address?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <form method="POST" action="{% url 'deleteAddress' address.id %}"
              hx-post="{% url 'deleteAddress' address.id %}" hx-target="#address-row-{{ address.id }}"
              hx-swap="outerHTML">

              {% csrf_token %}
              <button type="submit" class="btn btn-danger">Yes, Delete</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    {% endfor %}
    </div>

  </div>

</div>














<!-- <h1>NEW ADDRESS</h1>
{% for address in addresses %}
{{address.house_name}}
{{address.street}}
{{address.landmark}}
{{address.city}}
{{address.pincode}}
{{address.state}}

<img src="{{address.image.url}}" alt="" srcset="">

<a href="{% url 'editAddress' address.id %}"><h1>edit address</h1></a>


<button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ address.id }}">
        Delete
</button> -->

<!-- Modal for this address -->
<!-- <div class="modal fade" id="deleteModal{{ address.id }}" tabindex="-1" aria-labelledby="deleteModalLabel{{ address.id }}" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-danger text-white">
          <h5 class="modal-title" id="deleteModalLabel{{ address.id }}">Confirm Delete</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this address?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <form method="POST" action="{% url 'deleteAddress' address.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">Yes, Delete</button>
          </form>
        </div>
      </div>
    </div>
  </div>

{% endfor %}