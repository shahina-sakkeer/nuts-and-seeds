{% extends 'base.html' %}

{% block content %}

<!-- Main Content -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="flex flex-col lg:flex-row gap-8">
    <!-- Filters Sidebar -->
    <aside class="w-full lg:w-64 flex-shrink-0">
      
      <!-- Sort Filter -->
      <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Sort</h3>
        <div class="space-y-3" id="sort-option" hx-get="{% url 'filtering' %}" hx-target="#category-product" hx-swap="innerHTML"
            hx-include="#min-price, #max-price, #sort-option, #category-id" >
          <label class="flex items-center cursor-pointer">
            <input type="radio" name="sort" value="price_desc"
              class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" checked>
            <span class="ml-3 text-gray-700">High to Low</span>
          </label>
          <label class="flex items-center cursor-pointer">
            <input type="radio" name="sort" value="price_asc"
              class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-3 text-gray-700">Low to High</span>
          </label>
          <label class="flex items-center cursor-pointer">
            <input type="radio" name="sort" value="name_asc"
              class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-3 text-gray-700">A-Z</span>
          </label>
          <label class="flex items-center cursor-pointer">
            <input type="radio" name="sort" value="name_desc"
              class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-3 text-gray-700">Z-A</span>
          </label>
        </div>
      </div>

      <!-- Category Filter -->
      <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Category</h3>
        <div class="space-y-3">
          {% for cat in categories %}
          <span class=" flex items-center cursor-pointer ml-3 text-gray-700" hx-get="{% url 'filtering' cat.id %}"
            hx-target="#category-product" hx-swap="innerHTML" hx-include="#min-price, #max-price, #sort-option"
            hx-vals='{"category_id": "{{ cat.id }}"}'
            onclick="document.getElementById('category-id').value='{{ cat.id }}'">{{cat.name}}</span>
          {% endfor %}
        </div>
      </div>

      <!-- Price Filter -->
      <div class="bg-white rounded-lg border border-gray-200 p-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Price</h3>
        <div class="space-y-4">
          <div>
            <label class="block text-sm text-gray-700 mb-2">Min</label>
            <input type="text" id="min-price" placeholder="0" name="minimum"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400">
          </div>
          <div>
            <label class="block text-sm text-gray-700 mb-2">Max</label>
            <input type="text" id="max-price" placeholder="1000" name="maximum"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400">
          </div>
          <button hx-get="{% url 'filtering' %}" hx-target="#category-product" hx-swap="innerHTML"
            hx-include="#min-price, #max-price, #sort-option, #category-id"
            class="px-3 py-1 bg-blue-100 text-blue-800 rounded hover:bg-blue-200 transition">
            Apply
          </button>
          <button hx-get="{% url 'filtering' %}" hx-target="#category-product" hx-swap="innerHTML"
             class="px-3 py-1 bg-blue-100 text-blue-800 rounded hover:bg-blue-200 transition">
            Cancel
          </button>
        </div>
      </div>
    </aside>

    <main class="flex-1" id="category-product">
      {% include 'partial_filter.html' %}
    </main>
  </div>
</div>



{% endblock %}


